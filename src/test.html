<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="../lib/css/layui.css">
    </head>
    <body style="overflow-y: scroll;">
      <div class="layui-container-full">
          <button class="layui-btn gozbrand" style="float:right">打开</button>
        <div  id="jbdw" style="display: none;">
            <button  class="layui-btn empenter">选择</button>
            <button class="layui-btn empcancel">取消选择</button>
          <table class="layui-table" id="jbdwtb"></table>
        </div>
      </div>
        <script src="../lib/layui.js"></script>
        <script>
        layui.config({
          version: false //一般用于更新组件缓存，默认不开启。设为true即让浏览器不缓存。也可以设为一个固定的值，如：201610
}).use(['element', 'table','layer'], function(){
          var $= layui.$ 
          ,table = layui.table
          ,layer = layui.layer
    // 填充表格
  $('.gozbrand').on('click',function(e){
    var emplayer = layer.open({
      type: 1,
      title:'title',
      // skin: 'layui-layer-demo', //样式类名
      closeBtn: 1, //不显示关闭按钮
      anim: 2,
      area: ['500px', '480px'],
      shadeClose: true, //开启遮罩关闭
      offset: '20px',
      // maxmin:1,
      content: $('#jbdw')
    });
    var empTable = table.render({
      elem: '#jbdwtb',
      data:[{"gozbrandname":"品牌1","uid":1,"gozbrandsortnumber":1.0},{"gozbrandname":"品牌2","uid":2,"gozbrandsortnumber":2.0}],
      cols: [[
            {type:'radio',}
            ,{field:'gozbrandname', title: '品牌名称'}
            ,{field:'gozbrandsortnumber', title: '品牌排序号', sort: true}
            ,{field:'gozbranddept', title: '所属部门'}
            ]],
      page: true,
      done: function(res, curr, count){
      }
      });
    // 选择数据
    $('.empenter').off('click').on('click',function(){
      table.clearCacheKey(table.cache['jbdwtb']);
      var checkStatus = table.checkStatus('jbdwtb')
      console.log('checkStatus.data ',checkStatus.data);
      // 问题就出在这里，渲染多少次 获得到的表格行数就有多少行
      layer.close(emplayer);
    });
    // 取消选择
    $('.empcancel').on('click',function(){
      layer.close(emplayer);
    });
    e.preventDefault();
  });

        });
        </script>
        
      </body>
      </html>